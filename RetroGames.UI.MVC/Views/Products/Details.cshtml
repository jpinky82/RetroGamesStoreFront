@model RetroGames.DATA.EF.Models.Product

@{
    ViewData["Title"] = Model.ProductName + " Details";
}

<section class="hero-wrap hero-wrap-2 navbackground" data-stellar-background-ratio="0.5">
	<div class="overlay"></div>
	<div class="container">
		<div class="row no-gutters slider-text align-items-end justify-content-center">
			<div class="col-md-9 ftco-animate mb-5 text-center">
				<p class="breadcrumbs mb-2"><span class="mr-2"><a href="/">Home<i class="fa fa-chevron-right"></i></a></span> <span><a href="@Url.Action("Index", "Products")">Products <i class="fa fa-chevron-right"></i></a></span> <span>Product Details <i class="fa fa-chevron-right"></i></span></p>
				<h2 class="mb-0 oldfont bread">@Model.ProductName</h2>
			</div>
		</div>
	</div>
</section>

<section class="ftco-section">
	<div class="container">
		<div class="row">
			<div class="col-lg-6 mb-5 ftco-animate">
                <img src="~/images/@Model.ProductImage" class="img-fluid rounded mx-auto d-block bg-transparent" alt="@Model.ProductName">
			</div>
			<div class="col-lg-6 product-details pl-md-5 ftco-animate bg-white">
				<h3>@Model.ProductName</h3>

                <p class="price"><span>@Html.DisplayFor(model => model.ProductPrice)</span></p>
				<p>
					@Model.ProductDescription
				</p>
				<div class="row mt-4">
					<div class="input-group col-md-6 d-flex mb-3">
						<span class="input-group-btn mr-2">
							<button type="button" class="quantity-left-minus btn" data-type="minus" data-field="quantity">
								<i class="fa fa-minus"></i>
							</button>
						</span>
						<input type="text" id="quantity" name="quantity" class="quantity form-control input-number" value="1" min="1" max="100">
						<span class="input-group-btn ml-2">
							<button type="button" class="quantity-right-plus btn" data-type="plus" data-field="">
								<i class="fa fa-plus"></i>
							</button>
						</span>
					</div>
					<div class="w-100"></div>
					<div class="col-md-12">
						<p style="color: #000;">@Model.UnitsInStock In Stock</p>
					</div>
				</div>
				<p class="align"><a href="cart.html" class="btn button py-3 px-5 mr-2">Add to Cart</a><a href="cart.html" class="btn button py-3 px-5">Buy now</a></p>
			</div>
		</div>




		<div class="row mt-5">
			<div class="col-md-12 nav-link-wrap">
				<div class="nav nav-pills d-flex text-center" id="v-pills-tab" role="tablist" aria-orientation="vertical">

					<a class="nav-link ftco-animate" id="v-pills-3-tab" data-toggle="pill" href="#v-pills-3" role="tab" aria-controls="v-pills-3" aria-selected="false">Full Details</a>

				</div>
			</div>
			<div class="col-md-12 tab-wrap">

				<div class="tab-content bg-light" id="v-pills-tabContent">

					<div class="tab-pane fade" id="v-pills-3" role="tabpanel" aria-labelledby="v-pills-day-3-tab">
						<div class="row p-4">
							<div class="col-md-7">
                                <dl class="row">
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.ProductName)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.ProductName)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.ProductPrice)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.ProductPrice)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.ReleaseDate)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.ReleaseDate)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.ProductDescription)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.ProductDescription)
                                    </dd>
                                    
                                    @if (User.IsInRole("Admin"))
                                    {
                                        <dt class="col-sm-2">
                                            @Html.DisplayNameFor(model => model.UnitsInStock)
                                        </dt>
                                        <dd class="col-sm-10">
                                            @Html.DisplayFor(model => model.UnitsInStock)
                                        </dd>
                                        <dt class="col-sm-2">
                                            @Html.DisplayNameFor(model => model.IsDiscontinued)
                                        </dt>
                                        <dd class="col-sm-10">
                                            @Html.DisplayFor(model => model.IsDiscontinued)
                                        </dd>
                                    }
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.ProductImage)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.ProductImage)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.Category)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.Category.CategoryName)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.ConsoleType)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.ConsoleType.ConsoleName)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.Genre)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.Genre.GenreName)
                                    </dd>
                                    <dt class="col-sm-2">
                                        @Html.DisplayNameFor(model => model.Manufacturer)
                                    </dt>
                                    <dd class="col-sm-10">
                                        @Html.DisplayFor(model => model.Manufacturer.ManufacturerName)
                                    </dd>
                                </dl>
                                <a asp-action="Index" class="btn btn-secondary d-inline-flex">Back to List</a>
                                @if (User.IsInRole("Admin"))
                                {
                                    <a asp-action="Edit" asp-route-id="@Model?.ProductId" class="btn btn-primary d-inline-flex">Edit</a>
                                    @if (Model.OrderProducts.Count() == 0)
                                    {
                                        <a asp-action="Delete" asp-route-id="@Model.ProductId" class="btn btn-danger d-inline-flex">Delete</a>
                                    }
                                }
                            </div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
